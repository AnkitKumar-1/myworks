pipeline{
agent any
stages {
  stage('Sonarqube') {
      environment {
          scannerHome = tool 'SonarScanner'
      }
      steps {
          withSonarQubeEnv('SonarQube') {
              bat "${scannerHome}/bin/sonar-scanner"
          }
          timeout(time: 10, unit: 'MINUTES') {
              waitForQualityGate abortPipeline: true
          }
      }
}
}
}
